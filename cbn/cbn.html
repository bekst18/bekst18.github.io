<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width">
    <title>Color-By-Number Maker</title>
    <link rel="stylesheet" type="text/css" href="cbn.css">
</head>
<body>
    <div id="imageAcquisitionUi" class="m-auto">
        <h1>Color-By-Number Maker</h1>
        <p class="text-info">Drag a file here to make into a color-by-number.</p>
        <div id="fileDropBox">
            <div>Drag an image file here</div>
        </div>
        <input id="fileInput" type="file" accept="image/*" class="m-2" hidden />
        <p class="text-info">OR select a file by clicking the button.</p>
        <button id="fileButton" class="button-primary my-2">Select a File</button>
        <div id="useCameraDiv">
            <p class="text-info">OR acquire an image using a camera.</p>
            <button id="useCameraButton" class="button-primary my-2">Use Camera</button>
        </div>
        <div id="acquireImage" hidden>
            <video id="camera"></video>
            <div class="button-group">
                <button id="captureImageButton" class="button-primary my-2">Capture</button>
                <button id="flipCameraButton" class="button-primary my-2">Flip</button>
                <button id="stopCameraButton" class="button-primary my-2">Close</button>
            </div>
        </div>
        <p class="text-info">OR choose an image that you've already worked on.</p>
        <button id="galleryButton" class="button-primary my-2">My Gallery</button>
        <a href="../index.html">Return to Home Page</a>
        <div id="errors">
        </div>
    </div>
    <div id="imageSizeUi" class="m-auto" hidden="true">
        <h1>Color-By-Number Maker</h1>
        <div id="imageSizeControls">
            <div class="mx-3">
                <label for="maxDim">Max width / height:</label>
                <input id="maxDim" type="number" min="8" max="512" class="mb-2" value="128"
                    placeholder="Max width / height" />
            </div>
            <div>
                <label for="maxColors">Max colors:</label>
                <input id="maxColors" type="number" min="8" max="512" class="mb-2" value="64"
                    placeholder="Max # of colors" />
            </div>
        </div>
        <canvas id="imageSizeCanvas"></canvas>
        <div id="errors">
        </div>
        <div class="button-group">
            <button id="createColorByNumber" class="button-primary my-2">Create Color-by-Number</button>
            <button id="imageSizeReturn" class="button-primary my-2">Choose a Different Image</button>
        </div>
    </div>
    <div id="libraryUi" class="m-auto" hidden="true">
        <div class="button-group">
            <button id="stockButton" class="button-primary my-2 selected">Stock</button>
            <button id="coltonButton" class="button-primary my-2">Colton</button>
            <button id="anaButton" class="button-primary my-2">Ana</button>
            <button id="daniButton" class="button-primary my-2">Dani</button>
        </div>
        <button id="returnFromLibraryButton" class="button-primary my-2">Return</button>
    </div>
    <div id="playUi" hidden>
        <button id="returnButton" class="button-primary no-print">Choose a Different Image</button>
        <canvas id="canvas"></canvas>
        <div id="palette">
            <div class="palette-entry">0</div>
        </div>
    </div>
    <div id="galleryUi" hidden>
        <button id="galleryAcquireImageButton" class="button-primary my-2">Create a new Color-by-Number</button>
        <div id="cbns"></div>
    </div>
    <div id="loadingModal" class="modal-background" hidden>
        <img id="loadingImage" src="loading.gif" alt="loading indicator">
    </div>
    <div id="errorModal" class="modal-background" hidden>
        <div id="errorMessage" class="error-message"></div>
    </div>
    <template id="paletteEntry">
        <div class="palette-entry"></div>
    </template>
    <template id="galleryEntry">
        <div class="gallery-entry">
            <img class="gallery-image" />
            <button class="gallery-delete-button" type="button">X</button>
        </div>
    </template>
    <script type="module" src="cbn.js"></script>
</body>
</html>