/**
 * returns a function that generates hashes
 * @param str string state
 * @returns hash function
 */
export function xmur3(str) {
    for (var i = 0, h = 1779033703 ^ str.length; i < str.length; i++)
        h = Math.imul(h ^ str.charCodeAt(i), 3432918353),
            h = h << 13 | h >>> 19;
    return function () {
        h = Math.imul(h ^ h >>> 16, 2246822507);
        h = Math.imul(h ^ h >>> 13, 3266489909);
        return (h ^= h >>> 16) >>> 0;
    };
}
/**
 * sfc32 is part of the PractRand random number testing suite (which it passes of course). sfc32 has a 128-bit state and is very fast in JS.
 * @param a seed1
 * @param b seed2
 * @param c seed3
 * @param d seed4
 * @returns rng
 */
export function sfc32(a, b, c, d) {
    return () => {
        a >>>= 0;
        b >>>= 0;
        c >>>= 0;
        d >>>= 0;
        var t = (a + b) | 0;
        a = b ^ b >>> 9;
        b = c + (c << 3) | 0;
        c = (c << 21 | c >>> 11);
        d = d + 1 | 0;
        t = t + d | 0;
        c = c + t | 0;
        return (t >>> 0) / 4294967296;
    };
}
/**
 * Mulberry32 is a simple generator with a 32-bit state, but is extremely fast and has good quality (author states it passes all tests of gjrand testing suite and has a full 232 period, but I haven't verified).
 * @param a seed
 * @returns rng
 */
export function mulberry32(a) {
    return () => {
        var t = a += 0x6D2B79F5;
        t = Math.imul(t ^ t >>> 15, t | 1);
        t ^= t + Math.imul(t ^ t >>> 7, t | 61);
        return ((t ^ t >>> 14) >>> 0) / 4294967296;
    };
}
/**
 * As of May 2018, xoshiro128** is the new member of the Xorshift family, by Vigna & Blackman (professor Vigna was also responsible for the Xorshift128+ algorithm powering most Math.random implementations under the hood). It is the fastest generator that offers a 128-bit state.
 * @param a seed1
 * @param b seed2
 * @param c seed3
 * @param d seed4
 * @returns rng
 */
export function xoshiro128ss(a, b, c, d) {
    return () => {
        var t = b << 9, r = a * 5;
        r = (r << 7 | r >>> 25) * 9;
        c ^= a;
        d ^= b;
        b ^= c;
        a ^= d;
        c ^= t;
        d = d << 11 | d >>> 21;
        return (r >>> 0) / 4294967296;
    };
}
/**
 * This is JSF or 'smallprng' by Bob Jenkins (2007), who also made ISAAC and SpookyHash. It passes PractRand tests and should be quite fast, although not as fast as sfc32.
 * @param a seed1
 * @param b seed2
 * @param c seed3
 * @param d seed4
 * @returns rnhg
 */
export function jsf32(a, b, c, d) {
    return () => {
        a |= 0;
        b |= 0;
        c |= 0;
        d |= 0;
        var t = a - (b << 27 | b >>> 5) | 0;
        a = b ^ (c << 17 | c >>> 15);
        b = c + d | 0;
        c = d + t | 0;
        d = a + t | 0;
        return (d >>> 0) / 4294967296;
    };
}
/**
 * choose a uniform random float from interval [min, max)
 * @param min min value to return
 * @param max max value to return
 */
export function float(rng, min, max) {
    const range = max - min;
    return rng() * range + min;
}
/**
 * choose a uniform random integer from interval [min, max)
 * @param min
 * @param max
 */
export function int(rng, min, max) {
    return Math.floor(float(rng, min, max));
}
/**
 * choose a random element from the specified array
 * @param list array-like object to select a random element from
 */
export function choose(rng, a) {
    const idx = int(rng, 0, a.length);
    return a[idx];
}
/**
 * randomly shuffle the specified array in place
 * @param a array to shuffle
 */
export function shuffle(rng, a) {
    for (let i = a.length - 1; i >= 0; --i) {
        const j = Math.floor(rng() * i);
        const tmp = a[i];
        a[i] = a[j];
        a[j] = tmp;
    }
    return a;
}
/**
 * returns true x% of the time
 * @param x true chance
 */
export function chance(rng, x) {
    return rng() < x;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFuZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInJhbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBTUE7Ozs7R0FJRztBQUNILE1BQU0sVUFBVSxLQUFLLENBQUMsR0FBVztJQUM3QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO1FBQzVELENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQztZQUM1QyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQy9CLE9BQU87UUFDSCxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN4QyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN4QyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakMsQ0FBQyxDQUFBO0FBQ0wsQ0FBQztBQUVEOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLFVBQVUsS0FBSyxDQUFDLENBQVMsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7SUFDNUQsT0FBTyxHQUFHLEVBQUU7UUFDUixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7UUFBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNwQixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDekIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7SUFDbEMsQ0FBQyxDQUFBO0FBQ0wsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsVUFBVSxDQUFDLENBQVM7SUFDaEMsT0FBTyxHQUFHLEVBQUU7UUFDUixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDO1FBQ3hCLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuQyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBQy9DLENBQUMsQ0FBQTtBQUNMLENBQUM7QUFFRDs7Ozs7OztHQU9HO0FBQ0gsTUFBTSxVQUFVLFlBQVksQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTO0lBQ25FLE9BQU8sR0FBRyxFQUFFO1FBQ1IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN2RCxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNmLENBQUMsSUFBSSxDQUFDLENBQUM7UUFBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QixDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3ZCLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBQ2xDLENBQUMsQ0FBQTtBQUNMLENBQUM7QUFFRDs7Ozs7OztHQU9HO0FBQ0gsTUFBTSxVQUFVLEtBQUssQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTO0lBQzVELE9BQU8sR0FBRyxFQUFFO1FBQ1IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDcEMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNkLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNkLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNkLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBQ2xDLENBQUMsQ0FBQTtBQUNMLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTSxVQUFVLEtBQUssQ0FBQyxHQUFRLEVBQUUsR0FBVyxFQUFFLEdBQVc7SUFDcEQsTUFBTSxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztJQUN4QixPQUFPLEdBQUcsRUFBRSxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUE7QUFDOUIsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsR0FBRyxDQUFDLEdBQVEsRUFBRSxHQUFXLEVBQUUsR0FBVztJQUNsRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQTtBQUMzQyxDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsTUFBTSxVQUFVLE1BQU0sQ0FBSSxHQUFRLEVBQUUsQ0FBZTtJQUMvQyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDakMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7QUFDakIsQ0FBQztBQUVEOzs7R0FHRztBQUNILE1BQU0sVUFBVSxPQUFPLENBQUksR0FBUSxFQUFFLENBQVc7SUFDNUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3BDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUE7UUFDL0IsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2hCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDWCxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFBO0tBQ2I7SUFFRCxPQUFPLENBQUMsQ0FBQTtBQUNaLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxNQUFNLFVBQVUsTUFBTSxDQUFDLEdBQVEsRUFBRSxDQUFTO0lBQ3RDLE9BQU8sR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQ3BCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUmFuZG9tIG51bWJlciBnZW5lcmF0b3IgdHlwZSBhbGlhc1xyXG4gKiBhbiBSTkcgc2hvdWxkIHJldHVybiBhIHBzZXVkby1yYW5kb20gbnVtYmVyIGluIHRoZSByYW5nZSAoMCwxKVxyXG4gKi9cclxuZXhwb3J0IHR5cGUgUk5HID0gKCkgPT4gbnVtYmVyXHJcblxyXG4vKipcclxuICogcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgZ2VuZXJhdGVzIGhhc2hlc1xyXG4gKiBAcGFyYW0gc3RyIHN0cmluZyBzdGF0ZVxyXG4gKiBAcmV0dXJucyBoYXNoIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24geG11cjMoc3RyOiBzdHJpbmcpOiBSTkcge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGggPSAxNzc5MDMzNzAzIF4gc3RyLmxlbmd0aDsgaSA8IHN0ci5sZW5ndGg7IGkrKylcclxuICAgICAgICBoID0gTWF0aC5pbXVsKGggXiBzdHIuY2hhckNvZGVBdChpKSwgMzQzMjkxODM1MyksXHJcbiAgICAgICAgICAgIGggPSBoIDw8IDEzIHwgaCA+Pj4gMTk7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGggPSBNYXRoLmltdWwoaCBeIGggPj4+IDE2LCAyMjQ2ODIyNTA3KTtcclxuICAgICAgICBoID0gTWF0aC5pbXVsKGggXiBoID4+PiAxMywgMzI2NjQ4OTkwOSk7XHJcbiAgICAgICAgcmV0dXJuIChoIF49IGggPj4+IDE2KSA+Pj4gMDtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIHNmYzMyIGlzIHBhcnQgb2YgdGhlIFByYWN0UmFuZCByYW5kb20gbnVtYmVyIHRlc3Rpbmcgc3VpdGUgKHdoaWNoIGl0IHBhc3NlcyBvZiBjb3Vyc2UpLiBzZmMzMiBoYXMgYSAxMjgtYml0IHN0YXRlIGFuZCBpcyB2ZXJ5IGZhc3QgaW4gSlMuXHJcbiAqIEBwYXJhbSBhIHNlZWQxXHJcbiAqIEBwYXJhbSBiIHNlZWQyXHJcbiAqIEBwYXJhbSBjIHNlZWQzXHJcbiAqIEBwYXJhbSBkIHNlZWQ0XHJcbiAqIEByZXR1cm5zIHJuZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNmYzMyKGE6IG51bWJlciwgYjogbnVtYmVyLCBjOiBudW1iZXIsIGQ6IG51bWJlcik6IFJORyB7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGEgPj4+PSAwOyBiID4+Pj0gMDsgYyA+Pj49IDA7IGQgPj4+PSAwO1xyXG4gICAgICAgIHZhciB0ID0gKGEgKyBiKSB8IDA7XHJcbiAgICAgICAgYSA9IGIgXiBiID4+PiA5O1xyXG4gICAgICAgIGIgPSBjICsgKGMgPDwgMykgfCAwO1xyXG4gICAgICAgIGMgPSAoYyA8PCAyMSB8IGMgPj4+IDExKTtcclxuICAgICAgICBkID0gZCArIDEgfCAwO1xyXG4gICAgICAgIHQgPSB0ICsgZCB8IDA7XHJcbiAgICAgICAgYyA9IGMgKyB0IHwgMDtcclxuICAgICAgICByZXR1cm4gKHQgPj4+IDApIC8gNDI5NDk2NzI5NjtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE11bGJlcnJ5MzIgaXMgYSBzaW1wbGUgZ2VuZXJhdG9yIHdpdGggYSAzMi1iaXQgc3RhdGUsIGJ1dCBpcyBleHRyZW1lbHkgZmFzdCBhbmQgaGFzIGdvb2QgcXVhbGl0eSAoYXV0aG9yIHN0YXRlcyBpdCBwYXNzZXMgYWxsIHRlc3RzIG9mIGdqcmFuZCB0ZXN0aW5nIHN1aXRlIGFuZCBoYXMgYSBmdWxsIDIzMiBwZXJpb2QsIGJ1dCBJIGhhdmVuJ3QgdmVyaWZpZWQpLlxyXG4gKiBAcGFyYW0gYSBzZWVkXHJcbiAqIEByZXR1cm5zIHJuZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG11bGJlcnJ5MzIoYTogbnVtYmVyKTogUk5HIHtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgdmFyIHQgPSBhICs9IDB4NkQyQjc5RjU7XHJcbiAgICAgICAgdCA9IE1hdGguaW11bCh0IF4gdCA+Pj4gMTUsIHQgfCAxKTtcclxuICAgICAgICB0IF49IHQgKyBNYXRoLmltdWwodCBeIHQgPj4+IDcsIHQgfCA2MSk7XHJcbiAgICAgICAgcmV0dXJuICgodCBeIHQgPj4+IDE0KSA+Pj4gMCkgLyA0Mjk0OTY3Mjk2O1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQXMgb2YgTWF5IDIwMTgsIHhvc2hpcm8xMjgqKiBpcyB0aGUgbmV3IG1lbWJlciBvZiB0aGUgWG9yc2hpZnQgZmFtaWx5LCBieSBWaWduYSAmIEJsYWNrbWFuIChwcm9mZXNzb3IgVmlnbmEgd2FzIGFsc28gcmVzcG9uc2libGUgZm9yIHRoZSBYb3JzaGlmdDEyOCsgYWxnb3JpdGhtIHBvd2VyaW5nIG1vc3QgTWF0aC5yYW5kb20gaW1wbGVtZW50YXRpb25zIHVuZGVyIHRoZSBob29kKS4gSXQgaXMgdGhlIGZhc3Rlc3QgZ2VuZXJhdG9yIHRoYXQgb2ZmZXJzIGEgMTI4LWJpdCBzdGF0ZS5cclxuICogQHBhcmFtIGEgc2VlZDFcclxuICogQHBhcmFtIGIgc2VlZDJcclxuICogQHBhcmFtIGMgc2VlZDNcclxuICogQHBhcmFtIGQgc2VlZDRcclxuICogQHJldHVybnMgcm5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24geG9zaGlybzEyOHNzKGE6IG51bWJlciwgYjogbnVtYmVyLCBjOiBudW1iZXIsIGQ6IG51bWJlcik6IFJORyB7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIHZhciB0ID0gYiA8PCA5LCByID0gYSAqIDU7IHIgPSAociA8PCA3IHwgciA+Pj4gMjUpICogOTtcclxuICAgICAgICBjIF49IGE7IGQgXj0gYjtcclxuICAgICAgICBiIF49IGM7IGEgXj0gZDsgYyBePSB0O1xyXG4gICAgICAgIGQgPSBkIDw8IDExIHwgZCA+Pj4gMjE7XHJcbiAgICAgICAgcmV0dXJuIChyID4+PiAwKSAvIDQyOTQ5NjcyOTY7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGlzIGlzIEpTRiBvciAnc21hbGxwcm5nJyBieSBCb2IgSmVua2lucyAoMjAwNyksIHdobyBhbHNvIG1hZGUgSVNBQUMgYW5kIFNwb29reUhhc2guIEl0IHBhc3NlcyBQcmFjdFJhbmQgdGVzdHMgYW5kIHNob3VsZCBiZSBxdWl0ZSBmYXN0LCBhbHRob3VnaCBub3QgYXMgZmFzdCBhcyBzZmMzMi5cclxuICogQHBhcmFtIGEgc2VlZDFcclxuICogQHBhcmFtIGIgc2VlZDJcclxuICogQHBhcmFtIGMgc2VlZDNcclxuICogQHBhcmFtIGQgc2VlZDRcclxuICogQHJldHVybnMgcm5oZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGpzZjMyKGE6IG51bWJlciwgYjogbnVtYmVyLCBjOiBudW1iZXIsIGQ6IG51bWJlcik6IFJORyB7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGEgfD0gMDsgYiB8PSAwOyBjIHw9IDA7IGQgfD0gMDtcclxuICAgICAgICB2YXIgdCA9IGEgLSAoYiA8PCAyNyB8IGIgPj4+IDUpIHwgMDtcclxuICAgICAgICBhID0gYiBeIChjIDw8IDE3IHwgYyA+Pj4gMTUpO1xyXG4gICAgICAgIGIgPSBjICsgZCB8IDA7XHJcbiAgICAgICAgYyA9IGQgKyB0IHwgMDtcclxuICAgICAgICBkID0gYSArIHQgfCAwO1xyXG4gICAgICAgIHJldHVybiAoZCA+Pj4gMCkgLyA0Mjk0OTY3Mjk2O1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogY2hvb3NlIGEgdW5pZm9ybSByYW5kb20gZmxvYXQgZnJvbSBpbnRlcnZhbCBbbWluLCBtYXgpXHJcbiAqIEBwYXJhbSBtaW4gbWluIHZhbHVlIHRvIHJldHVyblxyXG4gKiBAcGFyYW0gbWF4IG1heCB2YWx1ZSB0byByZXR1cm5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmbG9hdChybmc6IFJORywgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IHJhbmdlID0gbWF4IC0gbWluO1xyXG4gICAgcmV0dXJuIHJuZygpICogcmFuZ2UgKyBtaW5cclxufVxyXG5cclxuLyoqXHJcbiAqIGNob29zZSBhIHVuaWZvcm0gcmFuZG9tIGludGVnZXIgZnJvbSBpbnRlcnZhbCBbbWluLCBtYXgpXHJcbiAqIEBwYXJhbSBtaW4gXHJcbiAqIEBwYXJhbSBtYXggXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW50KHJuZzogUk5HLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoZmxvYXQocm5nLCBtaW4sIG1heCkpXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBjaG9vc2UgYSByYW5kb20gZWxlbWVudCBmcm9tIHRoZSBzcGVjaWZpZWQgYXJyYXlcclxuICogQHBhcmFtIGxpc3QgYXJyYXktbGlrZSBvYmplY3QgdG8gc2VsZWN0IGEgcmFuZG9tIGVsZW1lbnQgZnJvbVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNob29zZTxUPihybmc6IFJORywgYTogQXJyYXlMaWtlPFQ+KSB7XHJcbiAgICBjb25zdCBpZHggPSBpbnQocm5nLCAwLCBhLmxlbmd0aClcclxuICAgIHJldHVybiBhW2lkeF1cclxufVxyXG5cclxuLyoqXHJcbiAqIHJhbmRvbWx5IHNodWZmbGUgdGhlIHNwZWNpZmllZCBhcnJheSBpbiBwbGFjZVxyXG4gKiBAcGFyYW0gYSBhcnJheSB0byBzaHVmZmxlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2h1ZmZsZTxUPihybmc6IFJORywgYTogQXJyYXk8VD4pOiBBcnJheTxUPiB7XHJcbiAgICBmb3IgKGxldCBpID0gYS5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG4gICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKHJuZygpICogaSlcclxuICAgICAgICBjb25zdCB0bXAgPSBhW2ldXHJcbiAgICAgICAgYVtpXSA9IGFbal1cclxuICAgICAgICBhW2pdID0gdG1wXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFcclxufVxyXG5cclxuLyoqXHJcbiAqIHJldHVybnMgdHJ1ZSB4JSBvZiB0aGUgdGltZVxyXG4gKiBAcGFyYW0geCB0cnVlIGNoYW5jZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5jZShybmc6IFJORywgeDogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gcm5nKCkgPCB4XHJcbn0iXX0=